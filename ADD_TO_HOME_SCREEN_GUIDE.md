# Как добавить приложение на главный экран

## Для пользователей

### Android (Telegram)
1. Откройте мини-приложение в Telegram
2. Подождите 5 секунд - появится баннер "Добавить на домашний экран"
3. Нажмите кнопку "Установить"
4. ИЛИ: Нажмите три точки в правом верхнем углу Telegram → "Добавить на главный экран"

### iPhone (Telegram)
1. Откройте мини-приложение в Telegram
2. Подождите 5 секунд - появится баннер с инструкцией
3. Нажмите кнопку "Поделиться" (квадрат со стрелкой вверх)
4. Выберите "На экран Домой"
5. Нажмите "Добавить"

### Android (Браузер Chrome/Edge)
1. Откройте сайт в браузере
2. Нажмите три точки → "Добавить на главный экран"
3. Подтвердите установку

### iOS Safari
1. Откройте сайт в Safari
2. Нажмите кнопку "Поделиться"
3. Выберите "На экран Домой"
4. Нажмите "Добавить"

## Для разработчика

### Текущая реализация

Ваше приложение уже настроено как PWA (Progressive Web App):

✅ **Файлы готовы:**
- `manifest.json` - конфигурация приложения
- `index.html` - включен `<link rel="manifest">`
- Логика установки PWA уже добавлена в код

⚠️ **Нужно добавить:**
- Иконки в папке `/frontend/icons/`

### Быстрая настройка иконок

#### Вариант 1: Онлайн генератор (рекомендуется)
1. Создайте логотип "M" размером 1024x1024px
2. Перейдите на https://www.pwabuilder.com/imageGenerator
3. Загрузите логотип
4. Скачайте все сгенерированные иконки
5. Поместите их в `/frontend/icons/`

#### Вариант 2: Использовать готовый SVG
Создайте файл `/frontend/icons/icon.svg`:

```svg
<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b9d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#667eea;stop-opacity:1" />
    </linearGradient>
  </defs>
  <rect width="512" height="512" rx="102" fill="url(#grad)"/>
  <text x="50%" y="58%" font-family="Arial" font-size="340" font-weight="bold" fill="white" text-anchor="middle">M</text>
</svg>
```

Затем конвертируйте SVG в PNG разных размеров.

#### Вариант 3: Использовать Photoshop/Figma
1. Создайте квадратный дизайн 1024x1024px
2. Фон: градиент от #ff6b9d до #667eea
3. Буква "M" белым цветом по центру
4. Экспортируйте в нужных размерах:
   - 72x72, 96x96, 128x128, 152x152, 180x180, 192x192, 384x384, 512x512
   - Для favicon: 16x16, 32x32
   - Для iOS: 76x76, 120x120

### Необходимые иконки

Поместите в `/frontend/icons/`:

**PWA (обязательно):**
- `icon-192x192.png` - основная иконка Android
- `icon-512x512.png` - большая иконка Android

**Дополнительные:**
- `icon-72x72.png`
- `icon-96x96.png`
- `icon-128x128.png`
- `icon-152x152.png`
- `icon-384x384.png`

**iOS:**
- `icon-76x76.png`
- `icon-120x120.png`
- `icon-180x180.png`

**Favicon:**
- `favicon-16x16.png`
- `favicon-32x32.png`

### Как работает промпт установки

Код уже в `index.html` (строки ~2698-2763):

```javascript
// Автоматически показывает баннер через 5 секунд
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    setTimeout(showInstallPrompt, 5000);
});
```

**Баннер:**
- Появляется через 5 секунд после загрузки
- Показывается только один раз
- Сохраняется в `localStorage`
- Для Android: кнопка "Установить"
- Для iOS: инструкция с визуальными подсказками

### Проверка работы PWA

1. Откройте DevTools (F12)
2. Вкладка "Application" → "Manifest"
3. Проверьте что manifest.json загружен
4. Проверьте наличие иконок

Или используйте Lighthouse:
1. DevTools → Lighthouse
2. Выберите "Progressive Web App"
3. Нажмите "Generate report"

### Требования для PWA

✅ **Уже выполнено:**
- HTTPS (или localhost)
- `manifest.json` с правильной конфигурацией
- `display: standalone` в manifest
- Meta теги для iOS
- Логика `beforeinstallprompt`

⚠️ **Нужно добавить:**
- Иконки (минимум 192x192 и 512x512)

### Тестирование

**На Android:**
1. Откройте сайт в Chrome/Edge
2. Должен появиться баннер "Добавить на главный экран"
3. После установки - иконка на рабочем столе
4. Приложение открывается в полноэкранном режиме

**На iPhone:**
1. Откройте сайт в Safari
2. Нажмите "Поделиться" → "На экран Домой"
3. После установки - иконка на рабочем столе

**В Telegram:**
1. Откройте Mini App
2. Три точки → "Добавить на главный экран"
3. Работает автоматически

## Улучшения

Можно добавить:
1. Кнопку "Установить" в меню приложения
2. Более заметный баннер
3. Анимацию при установке
4. Экран приветствия после установки

Все это уже работает! Нужно только добавить иконки в папку `/frontend/icons/`.
